{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nbs26\\\\Desktop\\\\Naor\\\\Jobs\\\\Full_Stack\\\\MisEda\\\\client\\\\src\\\\components\\\\register.jsx\";\nimport React from 'react';\nimport PageHeader from './common/pageHeader';\nimport Joi from 'joi-browser';\nimport Form from './common/form';\nimport http from '../services/httpService';\nimport { apiUrl } from '../config.json';\nimport { toast } from 'react-toastify';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Grid, Paper, Typography } from '@material-ui/core';\nimport { useStyles } from './css/register';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        name: '',\n        email: '',\n        password: ''\n      },\n      errors: {}\n    };\n    this.schema = {\n      name: Joi.string().required().min(2).label('name'),\n      password: Joi.string().required().min(3).label('password'),\n      email: Joi.string().required().min(9).email().label('email')\n    };\n\n    this.doSubmit = async () => {\n      const {\n        data\n      } = this.state;\n\n      try {\n        await http.post(`${apiUrl}/users`, data);\n        toast('Congratulations! Welcome to BoughtIt community!');\n        this.props.history.replace('/login');\n      } catch (ex) {\n        if (ex.response && ex.response.status === 400) {\n          this.setState({\n            errors: {\n              email: 'Email is taken. Try another one'\n            }\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n        titleText: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 4,\n        className: classes.paperClass,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          alignItems: \"flex-end\",\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.handleSubmit,\n              method: \"POST\",\n              autoComplete: \"off\",\n              className: classes.form,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                className: classes.root,\n                children: \"Create an Account and share your Boughts with us!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this), this.renderInput('name', 'Choose a Username'), this.renderInput('email', 'Enter Your Email', 'email'), this.renderInput('password', 'Choose a Password', 'password'), this.renderButton('Register')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default withStyles(useStyles)(Register);","map":{"version":3,"sources":["C:/Users/nbs26/Desktop/Naor/Jobs/Full_Stack/MisEda/client/src/components/register.jsx"],"names":["React","PageHeader","Joi","Form","http","apiUrl","toast","withStyles","Grid","Paper","Typography","useStyles","Register","state","data","name","email","password","errors","schema","string","required","min","label","doSubmit","post","props","history","replace","ex","response","status","setState","render","classes","paperClass","handleSubmit","form","root","renderInput","renderButton"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PageHeader from './common/pageHeader';\r\nimport Joi from 'joi-browser';\r\nimport Form from './common/form';\r\nimport http from '../services/httpService';\r\nimport { apiUrl } from '../config.json';\r\nimport { toast } from 'react-toastify';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Grid, Paper, Typography } from '@material-ui/core';\r\nimport { useStyles } from './css/register';\r\n\r\nclass Register extends Form {\r\n  state = {\r\n    data: { name: '', email: '', password: '' },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    name: Joi.string().required().min(2).label('name'),\r\n    password: Joi.string().required().min(3).label('password'),\r\n    email: Joi.string().required().min(9).email().label('email'),\r\n  };\r\n\r\n  doSubmit = async () => {\r\n    const { data } = this.state;\r\n\r\n    try {\r\n      await http.post(`${apiUrl}/users`, data);\r\n      toast('Congratulations! Welcome to BoughtIt community!');\r\n      this.props.history.replace('/login');\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        this.setState({ errors: { email: 'Email is taken. Try another one' } });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div>\r\n        <PageHeader titleText=\"Register\" />\r\n        <Paper elevation={4} className={classes.paperClass}>\r\n          <Grid container alignItems=\"flex-end\" justify=\"center\">\r\n            <Grid item>\r\n              <form\r\n                onSubmit={this.handleSubmit}\r\n                method=\"POST\"\r\n                autoComplete=\"off\"\r\n                className={classes.form}\r\n              >\r\n                <Typography variant=\"h6\" className={classes.root}>\r\n                  Create an Account and share your Boughts with us!\r\n                </Typography>\r\n\r\n                {this.renderInput('name', 'Choose a Username')}\r\n                {this.renderInput('email', 'Enter Your Email', 'email')}\r\n                {this.renderInput('password', 'Choose a Password', 'password')}\r\n                {this.renderButton('Register')}\r\n              </form>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Register);\r\n"]},"metadata":{},"sourceType":"module"}